<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="금융ICT에서 DevOps, SRE를 이야기합니다.">
  <meta name="keyword" content="hexo-theme, vuejs">
  <!-- for facebook-->
  <meta property="og:url"           content="https://ziyocode.github.io/2016/08/02/financial_ict_02/"/>
  <meta property="og:type"          content="article" />
  <meta property="og:title"         content="" />
  <meta property="og:description"   content="금융 ICT 환경에서 DevOps와 SRE" />

  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      금융IT 인프라를 이루는 기술#2 | 금융ICT 인프라 이야기
    
  </title>

  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/css/plugins/gitment.css">

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  <!--facebook share script-->
  <!--
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
-->
  
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v6.0&appId=228677414383213&autoLogAppEvents=1"></script>

  
    
<script src="/js/qrious.js"></script>

  
  
    
<script src="/js/gitment.js"></script>

  
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


<meta name="generator" content="Hexo 4.2.0"></head>
  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <!--<div class="logo"></div>-->
      <span>금융ICT 인프라 이야기</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>금융IT 인프라를 이루는 기술#2</h2>
  <p class="post-date">2016-08-02</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><p>&nbsp;핀테크를 설명하는 여러 책을 보면 전통적인 지점 중심 은행의 위기를 지적한다. 금융서비스를 이용하는 고객의 접점이 “무슨무슨”페이로 이동하고 있기 때문이다. 은행을 비롯한 금융서비스를 제공하는 회사에서 가장 가치 있는 것은 고객의 정보이다. 이 정보를 가질 수 있다는 것은 경쟁에서 그만큼 우위에 있다는 뜻이다. 예를 들면 당신이 그토록 원하던 맥북의 새 모델이 출시될 때 은행은 이를 놓치지 않고 당신에게 한정 기간 동안 맥북을 살 경우 할인을 해주는 쿠폰을 발송한다.<br>&nbsp;이 얼마나 매력적인 서비스인가? (카드 결제일 전까지는…)<br>이런 서비스는 금융서비스를 제공하는 회사에서 당신의 소비 패턴과 같은 정보를 가지고 있어야 가능하다. 심지어 여러 핀테크 회사들은 고객의 동의를 얻어 SNS 데이터도 사업 모델에 이용하려고 한다. 이런 고객의 접점을 담당하는 인프라 기술이 Web 서버와 WAS(Web Application Server)이다. </p>
<h3 id="Web-서버와-WAS"><a href="#Web-서버와-WAS" class="headerlink" title="Web 서버와 WAS"></a>Web 서버와 WAS</h3><p>&nbsp;Web 서버는 무엇이고, WAS(Web Application Server)는 무엇인가요? 후배들에게 많이 듣는 질문이다. 이에 대한 설명으로 Server-client 모델부터 3-tier 구조 등을 장황하게 설명하면서 이제는 잊혀진 “CGI라는 것이 있었어”로 시작하는 1시간 일장 연설은 나만의 만족으로 끝난다는 것을 잘 알고 있다. 아래 1장의 그림을 보여주고 각 컴포넌트가 처리하는 Contents를 설명하는 것이 훨씬 도움이 된다.<br>&nbsp;<br><img src="/images/webwas_01.png" alt="web-was"></p>
<p>&nbsp;금융권의 서비스는 대부분 Business Logic과 Presentation 영역을 분리하여 운영한다. Business Logic 영역은 쉽게 말해 연산을 처리하는 부분이다. 당신의 계좌에 얼마가 있는지 확인하거나, 이체를 할 경우 당신의 계좌에서 이체한 금액만큼 잔액을 감소시키는 일을 한다. 단순하게 들리지만 금융서비스라는 측면에서 단순하지 않다. 학교 때 배운 ACID를 보장해야 하기 때문이다.</p>
<p>※ ACID - 원자성(Atomicity), 일관성(Consistency), 고립성(Isolation), 지속성(Durability)</p>
<p>금융권에서는 이를 보장하기 위해 TP-Monitor 제품군(트랜잭션 관리 미들웨어)을 사용한다. 여기서 TP-Monitor를 설명하는 것은 자칫 장황해질 수 있으니 다음 포스트에 양보한다.</p>
<p>&nbsp;Web / WAS는 Presentation 영역을 담당한다. 고객이 금융서비스를 요청할 때 처음으로 맞아주는 것이 Web 서버이다. 그럼 Web 서버와 WAS는 어떻게 다른 것일까? 여러 면에서 다른 점이 있을 수 있지만 가장 큰 부분이 서비스하는 Contents이다. Web 서버는 정적 Contents를, WAS는 동적 Contents를 서비스한다. 당신이 XX은행의 홈페이지에 접속하여 로그인을 했다. 그 홈페이지에는 은행의 로고, 각 종 은행 서비스를 설명하는 Image, 그 페이지를 이루는 html 파일, 글씨체와 크기 색 등을 정의한 CSS 파일 등 누가 봐도 다르지 않을 Contents가 정적 Contents이다. 반면에 당신의 계좌의 잔고 부분을 보자. 이처럼 변화무쌍하기도 힘들다. 급여가 들어왔을 때의 위풍당당한 모습은 “퍼가요” 몇 번에 의기소침해진다. 이런 잔액은 고정되어 있는 것이 아니라 로긴 할 때마다 “원장”이라 불리는 코어뱅킹의 DB에서 조회해온다. 이렇게 Business 영역에 조회를 통해 가져온 Data를 표시하는 부분이 동적 Contents이다.</p>
<table>
<thead>
<tr>
<th>Server</th>
<th>Contents</th>
</tr>
</thead>
<tbody><tr>
<td>Web 서버</td>
<td>정적 Contents 서비스 - html, 이미지, CSS 등</td>
</tr>
<tr>
<td>WAS</td>
<td>동적 Contents 서비스 - jsp, xml 등</td>
</tr>
</tbody></table>
<h3 id="Web-서버-어떤-것을-사용할까"><a href="#Web-서버-어떤-것을-사용할까" class="headerlink" title="Web 서버, 어떤 것을 사용할까?"></a>Web 서버, 어떤 것을 사용할까?</h3><p>&nbsp;일반적으로 Web 서버라 하면 Apache와 Nginx를 떠올릴 것이다. 하지만 대한민국 금융권에서 유독 점유율이 높은 Web 서버가 있다. tmax 사의 WebtoB이다. WebtoB는 tmax사의 WAS인 JEUS와 함께 공급된다. 일종의 궁합처럼 JEUS를 사용하면 WebtoB를 사용하는 식이다. WAS로 JEUS를 사용하면서 굳이 Web 서버로 Apache를 사용할 일은 없다고 보는 것이 맞을 것이다.<br>&nbsp;Apache는 훌륭한 Web 서버이다. Nginx에 비해 무겁다는 평이 있지만 안정성 측면에서는 높은 점수를 주고 싶다. 실제로 내가 운영하는 서비스도 Apache로 별다른 장애 없이 안정적으로 운영하고 있다. 국내 금융권에서 가장 선호하는 Web 서버라 생각한다.<br>&nbsp;Nginx 아직은 잘 모르겠다. 여러 훌륭한 벤치마크 결과를 보고 있지만 오랜 시간 검증한 현재의 Web서버를 바꿀 만큼의 장점은 모르겠다. 실제로 Apache를 잘 설정하면 Nginx만큼의 성능이 나온다는 자료도 많다. 새로운 Web 서비스라면 적용해보고 싶다.  </p>
<p>|금융권에서 많이 사용하는 Web 서버 - Apache, WebtoB</p>
<h3 id="Was-어떤-것을-사용할까"><a href="#Was-어떤-것을-사용할까" class="headerlink" title="Was, 어떤 것을 사용할까?"></a>Was, 어떤 것을 사용할까?</h3><p>&nbsp;Was는 Java EE의 Spec에 따라 구현한 솔루션이다. Java EE(Enterprise Edition)이란 Java의 서버 측 개발 플랫폼이다. 여기에는 Servlet 엔진, JSP, EJB, RMI, JTA, JDBC, JMS, JMX, JNDI 등 다양하고 유용한 서버 측 기술 등이 정의되어 있다. 이 Spec은 실제 구현체가 아니라 “Java EE 6 Spec을 만족하려면 마땅히 이 기능이 구현되어 있어야 해”라는 요건이 정의되어 있다. 이 요건을 만족하도록 구현한 솔루션이 WAS이다.<br>&nbsp;현재는 조금씩 무너지고 있지만 금융권은 상용 제품을 선호한다. 안정성과 유지보수 측면에서 상용 제품이 우수하다는 판단 때문이다. 저렴한 도입 비용으로 채택된 솔루션이 장애를 유발한다면 절약한 도입비용보다 몇 배의 손실을 가져올지 모른다. 덤으로 고객의 무너진 신뢰는 몇 배의 노력을 해야 회복할 수 있다. 상용 제품이 모두 안정적이고 우수한 것은 아니지만 유지보수까지 고려한다면 금융권에서는 좋은 선택이다.  상용 WAS 제품은 크게 3가지가 있다. Oracle의 WebLogic, Tmax의 JEUS, IBM의 WebSphere이다. 모두 Java EE Spec을 만족하도록 구현한 솔루션이어서 기능은 비슷하다. JEUS의 경우 7버전에 와서는 WebLogic과 너무도 비슷해져 당황스러울 정도였다. 금융권에서는 WebLogic과 JEUS를 많이 사용하는 것으로 보인다. </p>
<p>| 금융권에서 많이 사용하는 WAS - WebLogic, JEUS</p>
<p><strong><em>이 글은 과거 브런치에 쓴 글을 옮긴 post 입니다. (현재와는 내용이 다른 부분이 있습니다.)</em></strong></p>
<ol>
<li>현재 시점(2019년)에 다시 읽어보니 제가 일하는 금융권의 인프라는 크지 변하지 않은 것 같습니다. 서비스 신뢰성을 최우선 과제로 놓다 보니 새로운 기술을 적용하는데 더딘 것 같습니다.</li>
<li>아시겠지만 NginX는 시장에서 검증이 끝났듯 보입니다. 대부분의 스타트업, 유니콘 기업에서 사용하는 web 서버가 됬습니다.</li>
<li>최근에 f5사가 NginX를 인수했다는 뉴스가 있었습니다. <a href="https://www.nginx.com/blog/nginx-joins-f5/" target="_blank" rel="noopener">News : Nginx to Join F5</a></li>
</ol>
</section>
    <!-- tag and share START-->
    <div class=tag_and_share>
      
        <div class="tags">
          <span>Tags:</span>
          
  <a href="/tags#finance" >
    <span class="tag-code">finance</span>
  </a>

        </div>
      
    <!--facebook share icon-->
      <div class="share-facebook">
        <div class="fb-share-button" 
        data-href="https://ziyocode.github.io/2016/08/02/financial_ict_02/"
        data-layout="button" data-size="small">
        <a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse">공유하기</a>
        </div>
      </div>
    </div>
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2016/07/16/financial_Ict_01/">
        <span class="nav-arrow">← </span>
        
          금융IT 인프라를 이루는 기술#1
        
      </a>
    
    
      <a class="nav-right" href="/2019/04/09/finacial_ict_ing/">
        
          진화하는 금융IT 인프라
        
        <span class="nav-arrow"> →</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!--
    
      <!-- Gitment START -->
      <!--<div id="comments"></div>-->
      <!-- Gitment END -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Web-서버와-WAS"><span class="toc-nav-text">Web 서버와 WAS</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Web-서버-어떤-것을-사용할까"><span class="toc-nav-text">Web 서버, 어떤 것을 사용할까?</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Was-어떤-것을-사용할까"><span class="toc-nav-text">Was, 어떤 것을 사용할까?</span></a></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://ziyocode.github.io/2016/08/02/financial_ict_02/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

    // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })
  })();
</script>

<!--

  <script>
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });
  </script>


  <script>
    var gitmentConfig = "yanm1ng";
    if (gitmentConfig !== 'undefined') {
      var gitment = new Gitment({
        id: "금융IT 인프라를 이루는 기술#2",
        owner: "yanm1ng",
        repo: "yanm1ng.github.io",
        oauth: {
          client_id: "9fce947d481f6347df54",
          client_secret: "a3c4f0e3715aaf1d5706cda5b7d3c6448948a39c"
        },
        theme: {
          render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            container.appendChild(instance.renderFooter(state, instance))
            return container;
          }
        }
      })
      gitment.render(document.getElementById('comments'))
    }
  </script>
 




 -->
    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer>
  <address class="app-footer">
  <div class="information">
    <div class="copyright-left">
      <p><strong>Contact</strong></p>
      <br>
      <ul>
        <li>
          <i class="fa fa-envelope-o"></i>
          <a href="mailto:ziyocode@gmail.com" target="_blank">ziyocode@gmail.com</a>
        </li>
        <li>
          <i class="fa fa-facebook"></i>
          <a href="https://www.facebook.com/ziyocode" target="_blank"><span>www.facebook.com/ziyocode</span></a>
        </li>
        <li>
          <i class="fa fa-github"></i>
          <a href="https://www.github.com/ziyocode" target="_blank"><span>www.github.com/ziyocode</span></a>
        </li>
      </ul>
    </div>
    <div class="copyright-right">
      <p>
          DevOps, Site Reliability Engineering Story
          <br>
          &copy; YoungKook Cho. 2020 |
          Theme by <a href="https://github.com/yanm1ng" target="_blank" rel="noopener">yanm1ng</a>
      </p>
    </div>
  </div>
  </address>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->


<script src="/js/script.js"></script>

  </body>
</html>